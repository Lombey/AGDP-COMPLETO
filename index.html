<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGDP Dashboard | Clean</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #204B42; 
            --primary-hover: #163630;
            --bg-body: #f8fafc;
            --surface: #ffffff;
            --border: #e2e8f0;
            --text-main: #0f172a;
            --text-light: #64748b;
            --header-height: 64px;
            --sidebar-width: 240px;
        }

        body.dark-mode {
            --primary: #2d6a5e;
            --bg-body: #0f172a;       
            --surface: #1e293b;        
            --border: #334155;        
            --text-main: #f1f5f9;      
            --text-light: #94a3b8;    
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--text-main); height: 100vh; overflow: hidden; }

        /* HEADER */
        header { background-color: #204B42; height: var(--header-height); padding: 0 1.5rem; display: flex; justify-content: space-between; align-items: center; color: white; flex-shrink: 0; z-index: 50; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .brand { display: flex; align-items: center; gap: 1rem; }
        .brand h1 { font-size: 1.1rem; font-weight: 600; margin: 0; display: flex; align-items: center; gap: 0.5rem; }
        .logo-box { width:32px; height:32px; background:white; color:#204B42; font-weight:bold; display:flex; align-items:center; justify-content:center; border-radius:4px; font-size: 0.8rem; }
        
        .header-actions { display: flex; gap: 0.8rem; align-items: center; }
        .nav-icon-btn { background: rgba(255,255,255,0.15); border: none; color: white; width: 36px; height: 36px; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: background 0.2s; }
        .nav-icon-btn:hover { background: rgba(255,255,255,0.25); }
        .user-profile { display: flex; align-items: center; gap: 0.5rem; background: white; color: #204B42; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer; }

        /* LAYOUT & SIDEBAR */
        .app-container { display: flex; flex-direction: column; height: 100vh; }
        .main-layout { display: flex; flex: 1; overflow: hidden; position: relative; }

        .sidebar { width: var(--sidebar-width); background-color: var(--surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding-top: 1rem; transition: margin-left 0.3s ease; }
        .sidebar.collapsed { margin-left: calc(var(--sidebar-width) * -1); }
        .sidebar-item { display: flex; gap: 0.8rem; padding: 0.8rem 1.5rem; color: var(--text-light); cursor: pointer; font-size: 0.9rem; align-items: center; border-left: 3px solid transparent; transition: all 0.2s; font-weight: 500; }
        .sidebar-item:hover { background: var(--bg-body); color: var(--primary); }
        .sidebar-item.active { color: var(--primary); background: rgba(32, 75, 66, 0.08); border-left-color: var(--primary); }
        
        /* CONTENIDO PRINCIPAL */
        .module-container { flex: 1; padding: 2rem; overflow-y: auto; background-color: var(--bg-body); display: flex; align-items: center; justify-content: center; flex-direction: column; color: var(--text-light); }
        .empty-state-box { border: 2px dashed var(--border); padding: 3rem; border-radius: 12px; text-align: center; }
        
        /* UTILS */
        .btn-icon { background: transparent; border: none; cursor: pointer; color: inherit; display: flex; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // --- ICONOS ---
        const IconWrapper = ({ children, size=24, color="currentColor", ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>{children}</svg>
        );

        const Icons = {
            Moon: (p) => <IconWrapper {...p}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></IconWrapper>,
            Sun: (p) => <IconWrapper {...p}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></IconWrapper>,
            Menu: (p) => <IconWrapper {...p}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconWrapper>,
            Download: (p) => <IconWrapper {...p}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></IconWrapper>,
            User: (p) => <IconWrapper {...p}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconWrapper>,
            MapPin: (p) => <IconWrapper {...p}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconWrapper>,
            Box: (p) => <IconWrapper {...p}><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" x2="12" y1="22.08" y2="12"/></IconWrapper>
        };

        const IconTolva = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="7.5" cy="17.5" r="2.5" /><circle cx="15.5" cy="17.5" r="2.5" /><circle cx="20.5" cy="18.5" r="1.5" />
                <path d="M3 10L5 17H10L12 10H3Z" /><path d="M3 10L2 8H13L12 10" /><path d="M8 10L8 5L2 5" />
                <path d="M13 17H18V12H13" /><path d="M13 12L14 9H17L18 12" /><path d="M18 14H22L23 18" /><path d="M10 16H13" />
            </svg>
        );

        // --- COMPONENTES ---

        const EmptyModule = ({ title }) => (
            <div className="module-container">
                <div className="empty-state-box">
                    <Icons.Box size={48} style={{ opacity: 0.3, marginBottom: '1rem' }} />
                    <h2 style={{ fontSize: '1.5rem', marginBottom: '0.5rem', color: 'var(--primary)' }}>{title}</h2>
                    <p>Módulo vacío. Listo para desarrollo.</p>
                </div>
            </div>
        );

        const Header = ({ darkMode, toggleDarkMode, toggleSidebar, user }) => (
            <header>
                <div className="brand">
                    <button className="nav-icon-btn" onClick={toggleSidebar} style={{marginRight:'1rem'}}><Icons.Menu size={24}/></button>
                    <div className="logo-box">AG</div>
                    <h1>AGDP <span>System</span></h1>
                </div>
                <div className="header-actions">
                    <button className="nav-icon-btn" onClick={toggleDarkMode}>{darkMode ? <Icons.Sun size={20}/> : <Icons.Moon size={20}/>}</button>
                    <div className="user-profile">
                        <Icons.User size={20}/> <span>{user}</span>
                    </div>
                </div>
            </header>
        );

        const Sidebar = ({ activeTab, setActiveTab, collapsed }) => {
            const items = [
                { id: 'descargas', label: 'Descargas', icon: <Icons.Download size={20}/> },
                { id: 'tolvas', label: 'Tolvas', icon: <IconTolva size={22}/> },
                { id: 'establecimientos', label: 'Establecimientos', icon: <Icons.MapPin size={20}/> },
            ];
            return (
                <div className={`sidebar ${collapsed ? 'collapsed' : ''}`}>
                    {items.map(i => (
                        <div key={i.id} className={`sidebar-item ${activeTab===i.id ? 'active' : ''}`} onClick={() => setActiveTab(i.id)}>
                            {i.icon} <span>{i.label}</span>
                        </div>
                    ))}
                </div>
            );
        };

        const App = () => {
            const [darkMode, setDarkMode] = useState(false);
            const [activeTab, setActiveTab] = useState('descargas');
            const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
            const user = "Martin";

            useEffect(() => { document.body.className = darkMode ? 'dark-mode' : ''; }, [darkMode]);

            const renderContent = () => {
                switch(activeTab) {
                    case 'descargas': return <EmptyModule title="Descargas" />;
                    case 'tolvas': return <EmptyModule title="Tolvas" />;
                    case 'establecimientos': return <EmptyModule title="Establecimientos" />;
                    default: return <EmptyModule title="Módulo Desconocido" />;
                }
            };

            return (
                <div className="app-container">
                    <Header 
                        darkMode={darkMode} 
                        toggleDarkMode={() => setDarkMode(!darkMode)} 
                        toggleSidebar={() => setSidebarCollapsed(!sidebarCollapsed)} 
                        user={user}
                    />
                    <div className="main-layout">
                        <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} collapsed={sidebarCollapsed} />
                        {renderContent()}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
